<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1" />
<div class="page-header">




	<div role="main" class="container theme-showcase">
		<div class="" style="margin-top: 90px;">
			<h1>Mensagem</h1>

			<div ng-controller="MensagemCtrl" ng-submit="submit()">
				<form role="form" action="rest/file/upload" method="post" enctype="multipart/form-data">
					<div class="row">
						<div class="col-xs-6 col-md-3"></div>
						<div class="col-xs-6 col-md-3"></div>
						<div class="col-xs-6 col-md-3"></div>
						<div class="col-xs-6 col-md-3">
							<button class="btn btn-info" type="button" ng-click="showForm()"
								ng-disabled="showNewButton">
								<span class="glyphicon glyphicon-plus" aria-hidden="true">Novo</span>
							</button>
							<button class="btn btn-danger" type="button"
								ng-click="cancelForm()" ng-hide="showCancelButton">
								<span class="glyphicon glyphicon-remove" aria-hidden="true">
									Cancelar</span>
							</button>
						</div>
					</div>

					<div ng-hide="showMessage" id="formMesage">

						<div class="form-group">
							<div class="col-md-4">
								<label for="aid">ID</label> 
								<input class="form-control"
									id="id" 
									ng-model="message.id" ng-required="true" disabled/>
							</div>
							<div class="col-md-4">
								<label for="nome">Nome</label> <input class="form-control"
									id="nome" placeholder="Nome da mensagem"
									ng-model="message.name" ng-required="true" />
							</div>
							<div class="col-md-4">
								<label for="flag">Flag</label> <select ng-model="message.flag"
									ng-required="true" class="form-control">
									<option value="A">Ativo</option>
									<option value="I">Inativo</option>
								</select>
							</div>
						</div>
						<div class="form-group">
							<div class="col-md-12">
								<label for="Description">Descrição</label> <input
									class="form-control" id="description"
									placeholder="Escreva uma descrição"
									ng-model="message.description" />
							</div>
						</div>
						<div class="form-group">
							<div class="col-md-3">
								<label for="Description">Data Inicial</label> <input
									class="form-control" id="datai"
									placeholder="Data inicial DD/MM/AAAA HH24:mm"
									ng-model="message.datai" />
							</div>
							<div class="col-md-3">
								<label for="Description">Data Final</label> <input
									class="form-control" id="dataf"
									placeholder="Data final DD/MM/AAAA HH24:mm"
									ng-model="message.dataf" />
							</div>
							<div class="col-md-3">
								<label for="Description">DDD in</label> <input
									class="form-control" id="ddd_in" placeholder="DDD in"
									ng-model="message.ddd_in" />
							</div>
							<div class="col-md-3">
								<label for="Description">DDD not in</label> <input
									class="form-control" id="ddd_not_in" placeholder="DDD not in"
									ng-model="message.ddd_not_in" />
							</div>
						</div>
						<div class="form-group">
							<div class="col-md-3">
								<label for="spot">Local</label> <select ng-model="message.spot"
									class="form-control">
									<option ng-repeat="option in data.availableOptions"
										value="{{option}}">{{option}}</option>
								</select>
							</div>
							<div class="col-md-3">
								<label for="order">Ordem</label> <input class="form-control"
									id="order" placeholder="Ordem de vocalização"
									ng-model="message.msg_order" />
							</div>
							<div class="col-md-6">
								<label for="Description">Upload audio</label> 
									<input class="form-control" id="upload" type="file" name="file" size="45" onchange="setFileName()"/>
									<input id = "fileName" type="text" name="fileName" value="" hidden="true"/>
							</div>
						</div>
						<div class="form-group">
							<div class="col-md-12">
								<br>
								<button type="submit" class="btn btn-success">Salvar</button>
							</div>
						</div>
						<br> <br> <br>


					</div>
					<br> <br>

					<table class="table table-striped table-hover">
						<thead>
							<tr>
								<th>Id</th>
								<th>Nome</th>
								<th>Descrição</th>
								<th>Flag</th>
								<th>Data Início</th>
								<th>Data Fim</th>
								<th>DDD in</th>
								<th>DDD not in</th>
								<th>Local</th>
								<th>Ordem</th>
								<th>Comando</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="message in messages | orderBy:'id'">
								<td>{{message.id}}</td>
								<td>{{ message.name ||"empty"}}</td>
								<td>{{ message.description || "empty"}}</td>
								<td>{{ message.flag || "empty"}}</td>
								<td>{{ message.datai || "empty"}}</td>
								<td>{{ message.dataf || "empty"}}</td>
								<td>{{ message.ddd_in || "empty"}}</td>
								<td>{{ message.ddd_not_in || "empty"}}</td>
								<td>{{ message.spot || "empty"}}</td>
								<td>{{ message.msg_order || "empty"}}</td>
								<td>
									<button type="button" ng-click="editMessage($index)"
										class="btn btn-info" data-toggle="tooltip"
										data-placement="left" title="Editar mensagem">
										<span class="glyphicon glyphicon-wrench" aria-hidden="true">
										</span>
									</button>
								</td>
							</tr>
						</tbody>
					</table>
			</div>
			</form>
		</div>
	</div>

</div>