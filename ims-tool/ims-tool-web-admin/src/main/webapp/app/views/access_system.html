<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1" />
<div class="page-header col-lg-12">

	<div role="main" class="container theme-showcase">
		<div ng-controller="EditAccessCtrl">
			<h1>Acessos sistemas</h1>
			<p>Usuário: {{user.name}}</p>
			<form name="accessUserForm">
				<br></br> <br></br>
				<div class="row">
					<div class="col-xs-6 col-md-4"></div>
					<div class="col-xs-6 col-md-4"></div>
					<div class="col-xs-6 col-md-4">
						<button class="btn btn-info" type="button" ng-click="showForm()"
							ng-disabled="showButtonUser">
							<span class="glyphicon glyphicon-plus" aria-hidden="true">Novo</span>
						</button>
						<button class="btn btn-danger" type="button"
							ng-click="cancelForm()" ng-hide="showUser">
							<span class="glyphicon glyphicon-remove" aria-hidden="true">
								Cancelar</span>
						</button>
					</div>
				</div>

				<div ng-hide="showUser" id="formNewUser">

					<div class="form-group">
						<label for="sistema">Sistema</label><br> 
						<select name="singleSelect" ng-model="system" ng-change="selectedSystem()">
						<option ng-repeat="system in systems"
							value="{{system}}">{{system}}</option>
						</select><br>
					</div>
					<div class="form-group">
						<label for="Artefato">Artefato</label> <br>
						<select name="singleSelect" ng-model="artifact" ng-change="selectedArtifact()">
						<option ng-repeat="artifact in artifacts"
							value="{{artifact}}">{{artifact}}</option>
						</select><br>
					</div>
					<div class="form-group">
						<label for="Artefato">Tipo Acesso</label> <br>
						<select name="singleSelect" ng-model="accessType" ng-change="selectedAccessType()">
						<option ng-repeat="accessType in accessTypes"
							value="{{accessType}}">{{accessType}}</option>
						</select><br>
					</div>
					<div class="form-group">
						<label for="Artefato">Área</label> <br>
						<select name="multipleSelect" ng-model="areaList" multiple>
						<option ng-repeat="area in areas"
							value="{{area}}">{{area}}</option>
						</select><br>
					</div>
					<button type="button" class="btn btn-success" ng-click="saveAccess($event)">Salvar</button>

				</div>
			</form>

			<div class="col-lg-12">
				<br> <br> <br>
				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>Sistema</th>
							<th>Artefato</th>
							<th>Tipo Acesso</th>
							<th>Área</th>
							<th>Comandos</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="access in accesses">
							<td>{{access.system}}</td>
							<td>{{access.artifact}}</td>
							<td>{{access.accessType}}</td>
							<td>{{access.area}}</td>
							<td>

								<button type="button" ng-click="removeAccess($index)"
									class="btn btn-danger" data-toggle="tooltip"
									data-placement="left" title="Remover acesso">
									<span class="glyphicon glyphicon-trash" aria-hidden="true">
									</span>
								</button>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>


	</div>