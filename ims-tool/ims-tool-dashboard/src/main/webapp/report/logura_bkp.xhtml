<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions" > 
	<h:body> 
		<ui:composition template="/template/layout.xhtml"> 
			<ui:param name="bean" value="#{logUraBean}" />
			<ui:define name="content"> 
			  <!--main content start-->
		      <section id="main-content">
		          <section class="wrapper">
		          	  <h3><i class="fa fa-angle-right"></i> Report - Log Ura</h3>
		          	  <div class="row mt">
		          		<div class="col-lg-12">
		                  <h:form id="form">
    						  <p:growl id="msgs" showDetail="true" />
			                  <p:panel id="panel_logura_filtro" header="Filtros" toggleable="true" toggleSpeed="500" widgetVar="panel" style="margin-bottom:20px">
							        <h:panelGrid columns="2" cellpadding="10">
							            <p:outputLabel for="datahoraI" value="Data e Hora Inicial:" />
										<p:calendar id="datahoraI" value="#{bean.datahoraI}" showButtonPanel="true" navigator="true"  >
								            <p:ajax event="dateSelect" listener="#{bean.onDateSelect}" update="form" />
								        </p:calendar>
										<p:outputLabel for="datahoraF" value="Data e Hora Final:" />
										<p:calendar id="datahoraF" showOn="button" />
										<p:outputLabel for="ura" value="URA:" />
										<p:inputText id="ura" value="TODOS"/>
										<p:outputLabel for="finalizacao" value="Finalização:" />
										<p:inputText id="finalizacao" value="TODOS"/>
										<p:outputLabel for="tags" value="Tag(s):" />
										<p:inputText id="tags" value="TODOS"/>								 
							        </h:panelGrid>
							 		<p:commandButton value="Consultar" id="btn_consultar" styleClass="btn btn-primary" /> 					       
						      </p:panel>
						  </h:form>
						  <p:dataTable value="#{bean.logUra}" var="logUra" rows="100"
						                         paginator="true"
						                         paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
						                         rowsPerPageTemplate="10,50,100,200,500">
						        <p:column style="width:40px;text-align: center">
						             <p:commandButton update="porra" oncomplete="PF('trackDetail').show()" icon="ui-icon-search" title="View"  >
						                <f:setPropertyActionListener value="#{logUra.id}" target="#{bean.selectedLog}"   />
						            </p:commandButton>
						        </p:column>
						        
						        <p:column headerText="Id">
						            <h:outputText value="#{logUra.id}"/>
						        </p:column>
						 
						        <p:column headerText="DATA">
						            <h:outputText value="#{logUra.data}"/>
						        </p:column>
						 
						        <p:column headerText="UCID">
						            <h:outputText value="#{logUra.ucid}"/>
						        </p:column>
						 
						        <p:column headerText="CONTEXTO">
						            <h:outputText value="#{logUra.context}"/>
						        </p:column>
						  </p:dataTable>								  
					
						  <p:dialog id="trackDetailDialog" header="Report - Detalhes do Log" widgetVar="trackDetail" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
						       <h:form id="porra">
						        	<h:outputText value="Teste dessa porra" />
						        </h:form> 
						  </p:dialog>
					   </div>		                          		                          		             		                    
		             </div>
		          </section>		      		    
		      </section><!-- /MAIN CONTENT -->  
			</ui:define> 
		</ui:composition> 
	</h:body> 
</html>